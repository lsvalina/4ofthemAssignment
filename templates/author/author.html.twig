{% extends 'base.html.twig' %}

{% block title %}Authors{% endblock %}

{% block body %}

<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }


    table {
        border-collapse: collapse;
        width: 100%;
    }

    .table th, .table td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #ddd;
    }

    .table th {
        background-color: #f2f2f2;
    }

    .table tr:hover {
        background-color: #f5f5f5;
    }
</style>

<div class="example-wrapper">
    <h1>Author</h1>
    <div><b>ID:</b> {{ author.id }}</div>
    <div><b>First Name:</b> {{ author.first_name }}</div>
    <div><b>Last Name:</b> {{ author.last_name }}</div>
    <div><b>Birthday:</b> {{ author.birthday|date('d.m.Y') }}</div>
    <div><b>Gender:</b> {{ author.gender }}</div>
    <div><b>Place of Birth:</b> {{ author.place_of_birth }}</div>

    {% if author.books is empty %}
        <button onclick="window.location.href='/author/delete/{{ author.id }}'">Delete Author</button>
    {% else %}
        <button title="Author has books" disabled>Delete Author</button>
    {% endif %}


    <h3>Books:</h3>
    <table class="table" >
        <thead>
        <tr>
            <th>ID</th>
            <th>Title</th>
            <th>Release Date</th>
            <th>Description</th>
            <th>ISBN</th>
            <th>Format</th>
            <th>No of pages</th>
            <th>Delete</th>
        </tr>
        </thead>
        <tbody>
        {% for book in author.books %}
            <tr>
                <td>{{ book.id }}</td>
                <td>{{ book.title }}</td>
                <td>{{ book.release_date|date('d.m.Y') }}</td>
                <td>{{ book.description }}</td>
                <td>{{ book.isbn }}</td>
                <td>{{ book.format }}</td>
                <td>{{ book.number_of_pages }}</td>
                <td><a href="/book/delete/{{ book.id }}">Delete</a> </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
